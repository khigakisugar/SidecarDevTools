<h3 class="text-center">Render times<i class="fi-lightbulb help-button" data-action="toggleHelp"></i></h3>

<div class="panel callout radius"{{#unless displayHelp}} style="display: none;"{{/unless}} data-panel="help">
    This panel allows you to measure the render time of any field. Simply choose a field type, the number of simulations and the template to use and click on 'simulate render'.
    'Simulate render all fields' will measure the render time for each available field and will log all results in the table.
</div>

<label>Choose module:</label>
<select name="module" data-action="selectModule">
    {{#each modules}}
        <option value="{{this}}" {{#eq ../module this}} selected="selected" {{/eq}}>{{this}}</option>
    {{/each}}
</select>

<label>Choose field type:</label>
<select name="fieldType" data-action="selectField">
    {{#each fields}}
        <option value="{{this}}">{{this}}</option>
    {{/each}}
</select>

<label>Number of simulated 'render' calls to calculate the average time:</label>
<select name="iterations">
    <option value="10">10</option>
    <option value="20">20</option>
    <option value="50" selected="selected">50</option>
    <option value="100">100</option>
    <option value="200">200</option>
</select>

<label>Template to use:</label>
<select name="template">
    <option value="detail">detail</option>
    <option value="list">list</option>
    <option value="edit">edit</option>
</select>

<label>Model Attributes to use (optional):</label>
<textarea data-field="jsonAttributes" rows="4" cols="20"></textarea>

<label>View Definition to use (optional):</label>
<textarea data-field="viewDef" rows="4" cols="20"></textarea>

<div>
    <input id="simulate" type="button" value="Simulate render">
</div>
<hr>
<div>
    <input id="simulateAll" type="button" value="Simulate render all fields">
    <input id="clearAll" type="button" value="clear results">
</div>
<table id="results-table" class="tablesorter">
    <thead>
    <tr>
        <th>
            Field type
        </th>
        <th>
            Total time (ms)
        </th>
        <th>
            Average time (ms)
        </th>
    </tr>
    </thead>
    <tbody>
    {{#each rows}}
    <tr>
        <td>{{fieldType}}</td>
        <td>{{totalTime}}</td>
        <td>{{averageTime}}</td>
    </tr>
    {{/each}}
    </tbody>
</table>
